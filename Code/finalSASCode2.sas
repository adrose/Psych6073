data Set2;
input sub z x y; cards;
                               1    -1.57414        .       -0.51164
                               2     0.67212     1.09097     1.05633
                               3     0.76396     1.02864     1.95022
                               4     0.12143    -0.64434    -0.18747
                               5     0.70145    -1.58344    -0.66318
                               6    -1.89140     0.34671    -1.26576
                               7     0.60675     0.13847     1.73774
                               8     0.95478     0.53628     0.63814
                               9    -1.18579    -2.63039    -3.27840
                              10    -2.78813    -2.65878    -2.33478
                              11    -1.51873    -0.56497     0.46168
                              12    -0.69786    -0.87162    -0.43630
                              13     0.62414    -0.22932     0.96880
                              14     1.16775      .           .
                              15    -0.75666     0.29047     0.66736
                              16    -1.66427    -0.30045    -0.40285
                              17     0.97264     1.39556     1.94594
                              18     0.13853     0.55069     0.38537
                              19     1.10984      .           .
                              20     1.61234      .           .
                              21     1.11395      .           .
                              22     0.23153     0.03689    -1.38125
                              23    -1.10118     0.01316     0.94158
                              24     0.56271    -0.95773     0.24827
                              25     0.28950     0.87141     0.95426
                              26    -0.61594    -0.28505    -0.59534
                              27    -0.01063     0.41141     0.16506
                              28     0.39449     0.27351     1.63843
                              29    -0.25469    -1.48967    -1.37000
                              30     0.33158     1.01397    -1.89368
                              31    -0.92698    -0.63574    -0.04268
                              32     0.99600     0.49337     0.77563
                              33     2.65510      .           .
                              34    -0.06779     2.08597     0.91393
                              35     1.15082      .           .
                              36     0.99267     0.05941     0.65579
                              37     0.65154     0.84488    -0.07683
                              38    -0.20441    -1.38036    -0.67497
                              39     1.26577      .           .
                              40     1.28218      .           .
                              41     1.36782      .           .
                              42     1.15664      .           .
                              43     0.51497     0.64937    -0.32630
                              44    -0.76816    -1.60918    -0.74483
                              45    -0.70338    -1.20604    -1.48248
                              46     1.05255      .           .
                              47    -2.50846    -1.12136    -1.31901
                              48     0.27725     2.25851    -0.08736
                              49     0.59996     0.72840    -0.51934
                              50    -1.98880    -0.09361     0.29539                                    
                              51     0.37111    -0.28780     1.67448
                              52    -2.26762    -1.21618    -1.32074
                              53     0.30000    -0.83163      .
                              54     1.53668      .           .
                              55    -0.25872    -0.67488    -2.13115
                              56     0.05608     0.48647     0.38605
                              57     0.93061    -0.09730    -0.95710
                              58     0.99371    -0.55536     0.61654
                              59    -1.33740    -0.33717    -0.52158
                              60     0.58891    -1.20564    -1.09608
                              61    -0.51879     0.44597     0.74207
                              62     0.21827     0.62245    -0.36691
                              63     0.11250    -0.48047     0.81090
                              64    -0.78952    -0.29654    -0.20517
                              65     0.92475     0.85607     0.90286
                              66     0.33351    -0.00931     0.67357
                              67     1.53517      .           .
                              68     0.98656     0.85612     0.72111
                              69    -0.29384     1.63653     0.47316
                              70     0.38275    -0.83026     0.43316
                              71     0.32308    -0.75204     0.67661
                              72     0.03652     0.19436    -1.16455
                              73    -0.24479     0.32507     0.37774
                              74     1.14708      .           .
                              75    -0.09819    -0.81616     0.42571
							  ;
proc print; run;

proc mi data = Set2 nimpute = 10 out=outm1;
mcmc initial=em;
var z x y;
run;

proc corr data=outm1 fisher(biasadj=no);
var z x y;
by _Imputation_;
ods output FisherPearsonCorr=outz;
run;

data outz;
set outz;
StdZ= 1/sqrt(NObs-3);
Pair=catx(' ',var,withvar);
run;
        
proc sort data=outz;
        by Pair _Imputation_;
        run;  
        
proc print data=outz noobs;
        title 'Fisher''s Correlation Statistics';
        by Pair;
        var _Imputation_ Corr ZVal;
        run;    
